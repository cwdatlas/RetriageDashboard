<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>EventController (retriage 0.0.1-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.retriage.retriage.controllers, class: EventController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.retriage.retriage.controllers</a></div>
<h1 title="Class EventController" class="title">Class EventController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.retriage.retriage.controllers.EventController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@RestController
@CrossOrigin
@RequestMapping("/api/events")
</span><span class="modifiers">public class </span><span class="element-name type-name-label">EventController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">REST controller for managing <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a> resources.
 Provides API endpoints for creating, retrieving, and deleting events,
 including managing their associated patient pools.
 Handles cross-origin requests via <code>CrossOrigin</code>.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.retriage.retriage.services.EventService,com.retriage.retriage.services.UserService)" class="member-name-link">EventController</a><wbr>(<a href="../services/EventService.html" title="interface in com.retriage.retriage.services">EventService</a>&nbsp;eventService,
 <a href="../services/UserService.html" title="interface in com.retriage.retriage.services">UserService</a>&nbsp;userService)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs an instance of <code>EventController</code>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createEvent(com.retriage.retriage.forms.EventTmpForm)" class="member-name-link">createEvent</a><wbr>(@Valid <a href="../forms/EventTmpForm.html" title="class in com.retriage.retriage.forms">EventTmpForm</a>&nbsp;eventform)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">createEvent
 Creates a new Event with the given form data.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;?&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteEvent(java.lang.Long)" class="member-name-link">deleteEvent</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">deleteEvent
 Deletes a specified Event by its ID.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findEventByID(java.lang.Long)" class="member-name-link">findEventByID</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">findEventByID
 Retrieves an <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a> by its unique identifier.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;<a href="../models/Event.html" title="class in com.retriage.retriage.models">Event</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getActiveEvent()" class="member-name-link">getActiveEvent</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the currently active <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>org.springframework.http.ResponseEntity<wbr>&lt;?&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllEvents()" class="member-name-link">getAllEvents</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">getAllEvents
 Returns every previously created Event.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.retriage.retriage.services.EventService,com.retriage.retriage.services.UserService)">
<h3>EventController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">EventController</span><wbr><span class="parameters">(<a href="../services/EventService.html" title="interface in com.retriage.retriage.services">EventService</a>&nbsp;eventService,
 <a href="../services/UserService.html" title="interface in com.retriage.retriage.services">UserService</a>&nbsp;userService)</span></div>
<div class="block">Constructs an instance of <code>EventController</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>eventService</code> - The service for managing events.</dd>
<dd><code>userService</code> - The service for managing users.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="createEvent(com.retriage.retriage.forms.EventTmpForm)">
<h3>createEvent</h3>
<div class="member-signature"><span class="annotations">@PostMapping(consumes="application/json",
             produces="application/json")
@PreAuthorize("hasRole(\'Director\')")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="element-name">createEvent</span><wbr><span class="parameters">(@Valid @RequestBody
 @Valid <a href="../forms/EventTmpForm.html" title="class in com.retriage.retriage.forms">EventTmpForm</a>&nbsp;eventform)</span></div>
<div class="block">createEvent
 Creates a new Event with the given form data.
 Validates the provided <a href="../forms/EventTmpForm.html" title="class in com.retriage.retriage.forms"><code>EventTmpForm</code></a>, creates <a href="../models/PatientPool.html" title="class in com.retriage.retriage.models"><code>PatientPool</code></a> objects based on
 the template data, and saves the new <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a>.
 Only accessible to users with the 'Director' role.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>eventform</code> - The form containing the event and patient pool template data.</dd>
<dt>Returns:</dt>
<dd>A <code>ResponseEntity</code> indicating the result of the creation.
 Returns HTTP 201 (Created) with a <a href="../exceptions/SuccessResponse.html" title="class in com.retriage.retriage.exceptions"><code>SuccessResponse</code></a> on success,
 or HTTP 400 (Bad Request) with an <a href="../exceptions/ErrorResponse.html" title="class in com.retriage.retriage.exceptions"><code>ErrorResponse</code></a> if validation fails,
 or HTTP 500 (Internal Server Error) with an <a href="../exceptions/ErrorResponse.html" title="class in com.retriage.retriage.exceptions"><code>ErrorResponse</code></a> if saving fails.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findEventByID(java.lang.Long)">
<h3>findEventByID</h3>
<div class="member-signature"><span class="annotations">@GetMapping(value="/{id}",
            produces="application/json")
@PreAuthorize("hasAnyRole(\'Director\', \'Nurse\')")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="element-name">findEventByID</span><wbr><span class="parameters">(@PathVariable
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">findEventByID
 Retrieves an <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a> by its unique identifier.
 Only accessible to users with 'Director' or 'Nurse' roles.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID associated to the event you are looking for.</dd>
<dt>Returns:</dt>
<dd>A <code>ResponseEntity</code> containing the <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a> object if found,
 or HTTP 404 (Not Found) with an <a href="../exceptions/ErrorResponse.html" title="class in com.retriage.retriage.exceptions"><code>ErrorResponse</code></a> if not found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllEvents()">
<h3>getAllEvents</h3>
<div class="member-signature"><span class="annotations">@GetMapping(produces="application/json")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="element-name">getAllEvents</span>()</div>
<div class="block">getAllEvents
 Returns every previously created Event.
 Accessible to all authenticated users (implied by the absence of <code>@PreAuthorize</code> and controller-level security).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A <code>ResponseEntity</code> containing a list of all <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a> objects,
 or an empty list if none exist, with HTTP 200 (OK).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getActiveEvent()">
<h3>getActiveEvent</h3>
<div class="member-signature"><span class="annotations">@GetMapping(value="/active",
            produces="application/json")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;<a href="../models/Event.html" title="class in com.retriage.retriage.models">Event</a>&gt;</span>&nbsp;<span class="element-name">getActiveEvent</span>()</div>
<div class="block">Retrieves the currently active <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a>.
 The definition of "active" is determined by the <a href="../services/EventService.html" title="interface in com.retriage.retriage.services"><code>EventService</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A <code>ResponseEntity</code> containing the active <a href="../models/Event.html" title="class in com.retriage.retriage.models"><code>Event</code></a> object if found,
 or HTTP 404 (Not Found) if no active event exists.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteEvent(java.lang.Long)">
<h3>deleteEvent</h3>
<div class="member-signature"><span class="annotations">@DeleteMapping(value="/{id}",
               produces="application/json")
@PreAuthorize("hasRole(\'Director\')")
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">org.springframework.http.ResponseEntity&lt;?&gt;</span>&nbsp;<span class="element-name">deleteEvent</span><wbr><span class="parameters">(@PathVariable
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">deleteEvent
 Deletes a specified Event by its ID.
 Only accessible to users with the 'Director' role.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID associated to the event you are looking for.</dd>
<dt>Returns:</dt>
<dd>A <code>ResponseEntity</code> indicating the result of the deletion.
 Returns HTTP 200 (OK) on successful deletion,
 HTTP 404 (Not Found) if the event does not exist,
 or HTTP 500 (Internal Server Error) if deletion fails after finding the event.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
